HOW TO RUN PROJECT

Clone the project using this command:
    git clone https://github.com/arashmjr/telegram-referral-bot.git

create virtual env and activate it
    command: python -m venv venv

for activate: 
    source venv/Scripts/activate

put .env file to the root of project

install all requirements with command blew:

    pip install -r requirements.txt

run this commands for migrations:
    python manage.py makemigrations
    python manage.py migrate


----------------------------
install nodejs on your system and run below command:
    npm install -g localtunnel 

Note: We install ngrok or localtunnel to assign a temporary public URL to the local Django server, allowing Telegram webhooks to send HTTP requests to our machine during development 

Run one of the following commands:
/c/Users/dell/AppData/Roaming/npm/lt.cmd --port 8000
or 
npx localtunnel --port 8000
After running the command, you should see a public URL like:
https://salty-ideas-film.loca.lt


note: for get path of lt.cmd on your system run >> npm config get prefix

after run it create a tunnel and give us an URL HTTPS like: https://heavy-tires-throw.loca.lt
but if django server stops the HTTPS url will also be lost and telegram webhook should be set again 

Set the Telegram webhook to call your backend API.
Replace <YOUR_PUBLIC_URL> with the URL generated by LocalTunnel and Replace <YOUR_BOT_TOKEN> with TELEGRAM_BOT_TOKEN in env file:

https://api.telegram.org/bot<YOUR_BOT_TOKEN>/setWebhook?url=<YOUR_PUBLIC_URL>/bot/webhook/

example: https://api.telegram.org/bot123456:ABCDEF/setWebhook?url=https://heavy-tires-throw.loca.lt/bot/webhook/

===========================================================
for run Price Alert using workers and celery beat: 

- install Earlang OTP 26.0
- install rabbitmq-server-4.2.3

then: execute this commands in two seprate git bash terminal to bot check price Alert every five minute and send message to telegram channel with ID: @price_checker_channel

command for run celery worker :
    celery -A core worker --loglevel=info --pool=solo

command for run celery beat:
    celery -A core beat --loglevel=info